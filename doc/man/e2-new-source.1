.\" Man page for e2-new-source
.\"
.\" (c)2007 emlix GmbH
.\"
.TH e2-new-source 1 "Oct 23, 2007" "0.2"

.SH NAME
e2-new-source \- create a new source at a shared server location

.SH SYNOPSIS
e2-new-source --git [--server <server>] <name>

e2-new-source --files [--no-checksum] [<server>:]<location> <source_file> [<checksum_file>]

.SH DESCRIPTION
\fBe2-new-source\fR creates a new source repository or stores a file plus
checksum file in a location on a server.

The type of the new source must be given, either --files or --git
cvs and subversion do not support auto-creation of repositories for now.

When creating a git repository a server side repository is created and
a local repository is created and set up to be related to the server side
repository via the remote named origin.
No commits are initially created. The user must create the initial commit
and push it to the server. See Examples below.

e2-new-source(1) does not create any configuration files. Use e2-cf(1) to
create a source configuration.

.SH RETURN VALUE
Normally, exit status is 0. On error, it is non-zero.

.SH OPTIONS
.TP
.BR \-\-git
Create a \fBgit\fR(7) repository at SERVERPATH.
.TP
.BR \-\-files
Create a \fBtar\fR(1) archive file source at SERVERPATH.
.TP
.BR \-\-help
Show usage information.
.P
For further global options, see \fBe2intro\fR(7).

.SH EXAMPLES
To place an external source file on the default server:
.IP
e2-new-source --files a/anything/0.1 file:///tmp/download/anything-0.1.tar.bz2
file:///tmp/download/anything-0.1.tar.bz2.sha1
.PP
To create a new, empty git repository on server and client side:
.IP
e2-new-source --git test2
.PP
To populate the empty repository from an existing repository:
.IP
.nf
cd in/<source>
git fetch /path/to/original/repo <branch>:refs/heads/master
git push origin master
.fi
.PP
To populate the empty repositories with new sources:
.IP
.nf
cd in/<source>
# create source files, e.g. main.c
git add .
git commit -m 'initial commit'
git push origin master
.fi

.SH BUGS
Doubtless there are many.

.SH "SEE ALSO"
.BR e2intro (7),
.BR e2-ls-project (1),
.BR e2config (5).

.SH AUTHORS
Gordon Hecker, Oskar Schirmer and Felix Winkelmann

.SH COPYRIGHT
(c)2007 emlix GmbH
